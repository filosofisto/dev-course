<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<div class="header">
		<div class="container">
			<h1>CPB</h1>
		</div>
	</div>

	<div class="menuscreen">
		<h:form id="formHeader">
			<p:menubar styleClass="menuCPB">
				<p:menuitem styleClass="home" url="/pages/home.xhtml"
					icon="ui-icon-home" value="Início"></p:menuitem>
				<p:submenu label="Cadastro" icon="ui-icon-document"
					rendered="#{not segurancaController.hasRole('IMPORTADOR_MARCAS,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}">
					<p:menuitem value="Pessoa" action="#{pessoa2Controller.begin}"
						rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,DIREX,DEEV,MKT,USUARIOS-EXTERNOS,CONFEDERACAO,COMUNICACAO,CLUBE_ESTRANGEIRO,SECRETARIA')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Classificador" action="#{classificadorController.begin}"
								rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,DIREX,DEEV,MKT,CONFEDERACAO,COMUNICACAO,SECRETARIA')}">
						<f:param name="nocid" value="" />
					</p:menuitem>

					<!--
					<p:menuitem value="Meu Clube" action="#{clubeController.beginEditarMeuClube}"
						rendered="#{segurancaController.hasRole('CLUBE')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					 -->
					<!-- <p:menuitem value="Importação" -->

					<!-- action="#{importacaoController.begin}" /> -->
					<p:menuitem value="Clube" action="#{clubeController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Confederações"
						action="#{confederacaoController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<!-- <p:menuitem value="Diretoria Executiva"	
					action="#{diretoriaExecutivaController.begin}" /> -->
					<p:menuitem value="Grupo" action="#{grupoController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DITEC,DEEV,MKT,DIREX')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Aeroporto" action="#{aeroportoController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Banco" action="#{bancoController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Cidade" action="#{cidadeController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Classe Esportiva"
						action="#{classeFuncionalController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<!-- <p:menuitem value="Classificacao Funcional" 
					action="#{classificacaoFuncionalController.begin}" rendered="#{segurancaController.hasRole('DETI')}">
					<f:param name="nocid" value="" />
				</p:menuitem> -->
					<!-- <p:menuitem value="Conta Bancária" 
					action="#{contaBancariaController.begin}"/> -->
					<p:menuitem value="Estado" action="#{estadoController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Função" action="#{funcaoController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Idioma" action="#{idiomaController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Modalidade"
						action="#{modalidadeController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Ocorrência"
						action="#{ocorrenciaController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="País" action="#{paisController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Plano de Saúde"
						action="#{planoSaudeController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Prova" action="#{provaController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Setor" action="#{setorController.begin}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<!-- <p:menuitem value="Vacina" 
					action="#{vacinaController.begin}" rendered="#{segurancaController.hasRole('DETI')}"/> -->
				</p:submenu>
				<!-- Meu Clube -->
				<p:menuitem value="Meu Clube" icon="ui-icon-document" rendered="#{segurancaController.hasRole('CLUBE')}"
					action="#{clubeController.beginEditarMeuClube}" />
					

				<p:submenu label="Gerenciamento" icon="ui-icon-document"
					rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}">
					<p:menuitem value="Classificação Esportiva"
						action="#{classificacaoEsportivaController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}"/>
					<p:menuitem value="Registro de Clubes - Avaliação CPB"
						action="#{clubeController.beginExibirClubesRegistrados}"
						rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV')}" />
					<p:menuitem value="Marcas de Histórico de Resultados"
						action="#{marcaEventoHistoricoResultadoController.begin}"
						rendered="#{segurancaController.hasRole('DETI,DITEC,IMPORTADOR_MARCAS')}" />						
				</p:submenu>

				<p:submenu label="Validação" icon="ui-icon-document"
					rendered="#{segurancaController.hasRole('DETI,DITEC')}">
					<p:menuitem value="Validar Foto"
						action="#{pessoaController.listarPessoasValidacao}"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}">
					</p:menuitem>
				</p:submenu>

				<p:submenu label="Transferência" icon="ui-icon-document"
					rendered="#{segurancaController.hasRole('DETI,CLUBE,DITEC,CONFEDERACAO')}">
					<p:submenu label="Atleta">
						<p:menuitem value="Contratar"
							action="#{transferenciaController.beginContratarAtleta}"
							rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
							<f:param name="nocid" value="" />
						</p:menuitem>
						<p:menuitem value="Liberar"
							action="#{transferenciaController.beginDispensarAtleta}"
							rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
							<f:param name="nocid" value="" />
						</p:menuitem>
					</p:submenu>
					<p:submenu label="Staff / Atleta guia">
						<p:menuitem value="Contratar"
							action="#{transferenciaController.beginContratarStaffeGuia}"
							rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
							<f:param name="nocid" value="" />
						</p:menuitem>
						<p:menuitem value="Liberar"
							action="#{transferenciaController.beginDispensarStaffeGuia}"
							rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
							<f:param name="nocid" value="" />
						</p:menuitem>
					</p:submenu>
					<p:menuitem value="Gerenciar Transferências"
						action="#{transferenciaController.beginGerenciarTransferencias}"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
				</p:submenu>

				<!-- <p:submenu label="Gerar Carteirinha" icon="ui-icon-document">
			<p:menuitem value="Atleta" action="#{carteirinhaController.begin}">
					<f:param name="nocid" value="" />
				</p:menuitem>
			</p:submenu> -->

				<p:submenu label="Importação" icon="ui-icon-arrowreturnthick-1-s"
					rendered="#{segurancaController.hasRole('DETI,DITEC')}">
					<p:menuitem value="Recordes - IPC"
						action="#{importacaoController.beginImportarRecordes}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:menuitem value="Ranking - IPC"
						action="#{importacaoController.beginImportarRankings}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
					<p:submenu label="Histórico de Resultados">
						<p:menuitem value="Importar Histórico de Resultados"
									action="#{importarHistoricoResultadoController.begin}"
									rendered="#{segurancaController.hasRole('DETI,DITEC')}">
							<f:param name="nocid" value=""/>
						</p:menuitem>
						<p:menuitem value="Gerenciar Eventos"
									action="#{gerenciarEventosHistoricoResultadoController.begin}"
									rendered="#{segurancaController.hasRole('DETI,DITEC')}">
							<f:param name="nocid" value=""/>
						</p:menuitem>
					</p:submenu>
				</p:submenu>

				<p:submenu label="Processamento" icon="ui-icon-script"
					rendered="#{segurancaController.hasRole('DETI')}">
					<p:menuitem value="Migração Marcas -> Histórico Resultado"
						action="#{processamentoController.beginMigracaoMarcaHistoricoResultado}"
						rendered="#{segurancaController.hasRole('DETI')}">
						<f:param name="nocid" value="" />
					</p:menuitem>
				</p:submenu>

				<p:submenu label="Segurança" icon="ui-icon-document"
					rendered="#{segurancaController.hasRole('CLUBE,CONFEDERACAO,SECRETARIA')}">
					<p:menuitem value="Alterar Senha" action="alterarSenha" />
				</p:submenu>

				<p:submenu label="Relatório" icon="ui-icon-document"
					rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,CONFEDERACAO')}">
					<p:submenu label="Cadastros">
					
						<!-- p:menuitem value="Atletas" ajax="false"
							rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE')}"
							action="#{relatorioController.relatorioCadGeralInfoAtletas}">
								<p:fileDownload value="#{relatorioController.view.relatorioStream}"/>
						</p:menuitem-->
					
						<p:menuitem value="Clube" ajax="false"
							rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE')}"
							action="#{relatorioCadastroIncompletoController.beginClube}">
							<f:param name="nocid" value="" />
						</p:menuitem>

						<p:menuitem value="Confederação" ajax="false"
							rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CONFEDERACAO')}"
							action="#{relatorioCadastroIncompletoController.beginConfederacao}">
							<f:param name="nocid" value="" />
						</p:menuitem>
					</p:submenu>
					
				    <p:menuitem value="Resultados das Competições" ajax="false"
 							rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,CONFEDERACAO')}"
 							action="#{relatorioRepositorioController.beginRelatorios()}">
 					</p:menuitem>
			   <!-- <p:menuitem value="Exportar Credenciados"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}"
						action="#{exportacaoCredenciadosController.begin}" /> -->
					
					<p:menuitem value="Exportar Todos os Cadastros"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}"
						action="#{exportacaoTodosOsCadastrosController.begin}" />
						
					<p:menuitem value="Exportar Histórico de Resultados"
						rendered="#{segurancaController.hasRole('DETI,DITEC')}"
						action="#{exportacaoHistoricoResultadoController.begin}" />
				</p:submenu>

				<!--<p:submenu label="Convidados" icon="ui-icon-document"
						   rendered="#{not segurancaController.hasRole('CLUBE')}">
					<p:menuitem value="Convidados Presidente #{sessaoController.confederacao.sigla}/Rio 2016"
                                rendered="#{segurancaController.hasRole('CONFEDERACAO')}"
								action="#{confederacaoConvidadoController.begin}" />
                    <p:menuitem value="Convidados Confederações/Rio 2016"
                                rendered="#{not segurancaController.hasRole('CONFEDERACAO')}"
                                action="#{confederacaoConvidadoController.begin}" />
				</p:submenu>-->

				<p:submenu label="Ajuda" icon="ui-icon-document">
					<p:menuitem value="Manual do Sistema"
						ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthick-1-s">
					
						<p:fileDownload value="#{downloadController.manualSistemaCadastro}" />
					</p:menuitem>
				</p:submenu>

				<p:menuitem value="Inscrição" icon="ui-icon-contact" 
					styleClass="home" onclick="window.location.href = '/inscricao-web'"
					rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,CONFEDERACAO,SECRETARIA')}" />

				<!-- <p:menuitem styleClass="user-profile"><i class="icon-user"></i> <h:outputText value="#{username}"/></p:menuitem>
			<p:menuitem styleClass="teste" value="Sair" action="#{usuarioController.sair}" icon="ui-icon-extlink" /> -->
				<f:facet name="options">
					<span class="user-profile"> <i class="icon-user"></i> <h:outputText
							value="#{username}" />
					</span>
					<p:commandButton action="#{usuarioController.sair}" value="Sair"
						icon="ui-icon-extlink"></p:commandButton>
				</f:facet>
			</p:menubar>

		</h:form>
	</div>

	<!-- Inicio do Menu Mobile -->
	<div class="menumobile">
		<div class="iconemobile">
			<a href="#" id="ocultar">
				<img src="../resources/img/icone-menu.png" width="52" height="52"></img>
			</a><br/>
		</div>
		<div class="menulateral" id="menulateral" style="display: none;">
			<h:form>
				<p:menu>
					<p:menuitem styleClass="home" url="/pages/home.xhtml"
					icon="ui-icon-home" value="Início"></p:menuitem>

                    <p:submenu label="Cadastro" icon="ui-icon-document"
                    	rendered="#{not segurancaController.hasRole('IMPORTADOR_MARCAS,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}">
                        <p:menuitem value="Pessoa" action="#{pessoa2Controller.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,DIREX,DEEV,MKT,USUARIOS-EXTERNOS,CONFEDERACAO,COMUNICACAO,CLUBE_ESTRANGEIRO,SECRETARIA')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <!-- <p:menuitem value="Importação"
                        action="#{importacaoController.begin}" /> -->
                        <p:menuitem value="Clube" action="#{clubeController.begin}"
                            rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Confederações"
                            action="#{confederacaoController.begin}"
                            rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <!-- <p:menuitem value="Diretoria Executiva"
                        action="#{diretoriaExecutivaController.begin}" /> -->
                        <p:menuitem value="Grupo" action="#{grupoController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC,DEEV,MKT,DIREX')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Aeroporto" action="#{aeroportoController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Banco" action="#{bancoController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Cidade" action="#{cidadeController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Classe Esportiva"
                                    action="#{classeFuncionalController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <!-- <p:menuitem value="Classificacao Funcional"
                        action="#{classificacaoFuncionalController.begin}" rendered="#{segurancaController.hasRole('DETI')}">
                        <f:param name="nocid" value="" />
                    </p:menuitem> -->
                        <!-- <p:menuitem value="Conta Bancária"
                        action="#{contaBancariaController.begin}"/> -->
                        <p:menuitem value="Estado" action="#{estadoController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Função" action="#{funcaoController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Idioma" action="#{idiomaController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Modalidade"
                            action="#{modalidadeController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Ocorrência"
                            action="#{ocorrenciaController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="País" action="#{paisController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Plano de Saúde"
                            action="#{planoSaudeController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Prova" action="#{provaController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Setor" action="#{setorController.begin}"
                            rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <!-- <p:menuitem value="Vacina"
                        action="#{vacinaController.begin}" rendered="#{segurancaController.hasRole('DETI')}"/> -->
                    </p:submenu>

                    <p:submenu label="Gerenciamento" icon="ui-icon-document"
                               rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}">
                        <p:menuitem value="Classificação Esportiva"
                                    action="#{classificacaoEsportivaController.begin}" 
                                    rendered="#{segurancaController.hasRole('DETI,DIREX,DITEC,DEEV,ACL_CLASSIFICADOR,CLASSIFICADOR_ATLETISMO,CLASSIFICADOR_NATACAO,CLASSIFICADOR_HALTEROFILISMO,CLASSIFICADOR_ATLETISMO_EXTERNO,CLASSIFICADOR_NATACAO_EXTERNO,CLASSIFICADOR')}"/>
                        <p:menuitem value="Registro de Clubes - Avaliação CPB"
                                    action="#{clubeController.beginExibirClubesRegistrados}" />
                    </p:submenu>

                    <p:submenu label="Validação" icon="ui-icon-document"
                        rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                        <p:menuitem value="Validar Foto"
                            action="#{pessoaController.listarPessoasValidacao}"
                            rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                        </p:menuitem>
                    </p:submenu>

                    <p:submenu label="Transferência" icon="ui-icon-document"
                        rendered="#{segurancaController.hasRole('DETI,CLUBE,DITEC,CONFEDERACAO')}">
                        <p:submenu label="Atleta">
                            <p:menuitem value="Contratar"
                                        action="#{transferenciaController.beginContratarAtleta}"
                                        rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>
                            <p:menuitem value="Liberar"
                                        action="#{transferenciaController.beginDispensarAtleta}"
                                        rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>
                        </p:submenu>
                        <p:submenu label="Staff / Atleta guia">
                            <p:menuitem value="Contratar"
                                        action="#{transferenciaController.beginContratarStaffeGuia}"
                                        rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>
                            <p:menuitem value="Liberar"
                                        action="#{transferenciaController.beginDispensarStaffeGuia}"
                                        rendered="#{segurancaController.hasRole('DETI,CLUBE,SECRETARIA,DITEC,CONFEDERACAO')}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>
                        </p:submenu>
                        <p:menuitem value="Gerenciar Transferências"
                                    action="#{transferenciaController.beginGerenciarTransferencias}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                    </p:submenu>

                    <!-- <p:submenu label="Gerar Carteirinha" icon="ui-icon-document">
                <p:menuitem value="Atleta" action="#{carteirinhaController.begin}">
                        <f:param name="nocid" value="" />
                    </p:menuitem>
                </p:submenu> -->

                    <p:submenu label="Importação" icon="ui-icon-arrowreturnthick-1-s"
                               rendered="#{segurancaController.hasRole('DETI')}">
                        <p:menuitem value="Recordes - IPC"
                                    action="#{importacaoController.beginImportarRecordes}"
                                    rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Ranking - IPC"
                                    action="#{importacaoController.beginImportarRankings}"
                                    rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                        <p:menuitem value="Histórico de Resultados"
                                    action="#{importarHistoricoResultadoController.begin}"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}">
                            <f:param name="nocid" value=""/>
                        </p:menuitem>
                    </p:submenu>

                    <p:submenu label="Processamento" icon="ui-icon-script"
                               rendered="#{segurancaController.hasRole('DETI')}">
                        <p:menuitem value="Migração Marcas -> Histórico Resultado"
                                    action="#{processamentoController.beginMigracaoMarcaHistoricoResultado}"
                                    rendered="#{segurancaController.hasRole('DETI')}">
                            <f:param name="nocid" value="" />
                        </p:menuitem>
                    </p:submenu>

                    <p:submenu label="Segurança" icon="ui-icon-document"
                               rendered="#{segurancaController.hasRole('CLUBE,CONFEDERACAO,SECRETARIA')}">
                        <p:menuitem value="Alterar Senha" action="alterarSenha" />
                    </p:submenu>

                    <p:submenu label="Relatório" icon="ui-icon-document"
                               rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,CONFEDERACAO')}">
                        <p:submenu label="Cadastros">
                            <p:menuitem value="Clube" ajax="false"
                                        rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE')}"
                                        action="#{relatorioCadastroIncompletoController.beginClube}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>

                            <p:menuitem value="Confederação" ajax="false"
                                        rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CONFEDERACAO')}"
                                        action="#{relatorioCadastroIncompletoController.beginConfederacao}">
                                <f:param name="nocid" value="" />
                            </p:menuitem>
                        </p:submenu>

                        <!-- <p:menuitem value="Exportar Credenciados"
                                 rendered="#{segurancaController.hasRole('DETI,DITEC')}"
                                 action="#{exportacaoCredenciadosController.begin}" /> -->

                        <p:menuitem value="Exportar Todos os Cadastros"
                                    rendered="#{segurancaController.hasRole('DETI,DITEC')}"
                                    action="#{exportacaoTodosOsCadastrosController.begin}" />
                                    
                        <p:menuitem value="Exportar Histórico de Resultados"
									rendered="#{segurancaController.hasRole('DETI,DITEC')}"
									action="#{exportacaoHistoricoResultadoController.begin}" />
                    </p:submenu>

                    <p:submenu label="Convidados" icon="ui-icon-document"
							   rendered="#{not segurancaController.hasRole('CLUBE')}">
                        <p:menuitem value="Convidados Presidente #{sessaoController.confederacao.sigla}/Rio 2016"
                                    rendered="#{segurancaController.hasRole('CONFEDERACAO')}"
                                    action="#{confederacaoConvidadoController.begin}" />
                        <p:menuitem value="Convidados Confederações/Rio 2016"
                                    rendered="#{not segurancaController.hasRole('CONFEDERACAO')}"
                                    action="#{confederacaoConvidadoController.begin}" />
                    </p:submenu>

                    <p:submenu label="Ajuda" icon="ui-icon-document">
                        <p:menuitem value="Manual do Sistema"
                            ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthick-1-s">
                            <p:fileDownload value="#{downloadController.manualSistemaCadastro}" />
                        </p:menuitem>
                    </p:submenu>

                    <p:menuitem value="Inscrição" icon="ui-icon-contact"
                                styleClass="home" onclick="window.location.href = '/inscricao-web'"
                                rendered="#{segurancaController.hasRole('DETI,DEPO,DITEC,CLUBE,CONFEDERACAO,SECRETARIA')}" />

					<p:menuitem styleClass="user-profile">
						<i class="icon-user"></i>
						<h:outputText value="#{username}" />
					</p:menuitem>

					<p:menuitem styleClass="teste" value="Sair"
						action="#{usuarioController.sair}" icon="ui-icon-extlink" />

                    <f:facet name="options">
						<span class="user-profile"> <i class="icon-user"></i> <h:outputText
								value="#{username}" />
						</span>
						<p:commandButton action="#{usuarioController.sair}" value="Sair"
							icon="ui-icon-extlink"></p:commandButton>
					</f:facet>
				</p:menu>
			</h:form>
		</div>
	</div>

	<h:form prependId="false" id="formIdle">

		<p:dialog id="timeoutSession" header="Sua sessão está acabando..."
			widgetVar="timeoutDialog" showEffect="fade" hideEffect="fade"
			modal="true" width="400" height="110" closable="false"
			draggable="false" resizable="false" appendToBody="true"
			onShow="idleMonitor.doTimer();">
			<br />
			<p:panel>
				Mova o cursor, ou você será redirecionado para a página de login em
				<span id="dialog-countdown" style="font-weight: bold"></span>
				segundo(s).
			</p:panel>
		</p:dialog>
		<p:remoteCommand global="false" name="keepAlive"
			actionListener="#{segurancaController.keepSessionAlive()}" />
	</h:form>

	<p:ajaxStatus onstart="idleMonitor.stopCount();"
		oncomplete="idleMonitor.schedule();" />
	<script type="text/javascript">

		function stopMonitorCount() {
			timeoutDialog.hide();
			idleMonitor.stopCount();
			keepAlive();
			idleMonitor.schedule();
		}

		var Monitor = function() {
			var TIME = 30; // in seconds
			var countTimer = TIME;
			var scheduleTimer;
			var processTimer;
			var timer_is_on = 0;
			var redirectPage = "#{request.contextPath}";

			var countDownDiv = "dialog-countdown";
			var txtCountDown = $('#' + countDownDiv);

			this.schedule = function() {
				var timerStart = #{(session.maxInactiveInterval - 30) * 1000};
				scheduleTimer = setTimeout(this.start, timerStart);
			};

			this.start = function() {
				countTimer = TIME;
				txtCountDown.text(countTimer);
				timeoutDialog.show();

				$(document).on('mousemove', stopMonitorCount);
			};

			this.doTimer = function() {
				if (!timer_is_on) {
					timer_is_on = 1;
					timedCount();
				}
			};

			this.stopCount = function() {
				clearTimeout(processTimer);
				timer_is_on = 0;
				clearTimeout(scheduleTimer);
				$(document).off('mousemove', stopMonitorCount);
			};

			function timedCount() {
				txtCountDown.text(countTimer);
				if (countTimer == 0) {
					idleMonitor.stopCount();
					window.location.href = redirectPage;
					return;
				}
				countTimer = countTimer - 1;
				processTimer = setTimeout(timedCount, 1000);
			}
		};

		var idleMonitor = new Monitor();

		$(document).ready(function() {
			idleMonitor.schedule();
		});

	</script>
</ui:composition>